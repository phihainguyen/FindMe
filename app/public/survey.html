<!doctype html>
<html lang="en">

<head>
    <title>Survey</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300" rel="stylesheet">
<style>
.wrapper{
    width:80%;
    margin: auto;
    font-family: 'Open Sans Condensed', sans-serif;
}
.form-control{
    width: 30%;
    margin-bottom: 20px;
}
#name, #picture{
    width: 90%;
    margin-bottom: 20px;

}
#surveyBtn{
    margin-top: 50px;
    margin-bottom: 20px;
    width: 100%;
    height: 60px;
    font-size: 30px;
}
</style>
</head>

<body>

    <div class="wrapper">
        <h1>Survey</h1>
        <h2>About You</h2>
        <div id="survey">
            <div>
                <h3>Name (Required)</h3>
                <input class="form-control" type="text" id="name">
            </div>
            <div>
                <h3>Link to Photo Image (Required)</h3>
                <input class="form-control" type="text" id="picture">
            </div>
            <div id="form">
                <div>
                    <h2>Question 1</h2>
                    <h3>Your mind is always buzzing with unexplored ideas and plans.</h3>
                    <select class="form-control" id="1">
                        <option value>Select an option ...</option>
                        <option value="1">1 (Strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly agree)</option>
                    </select>
                </div>
                <div>
                    <h2>Question 2</h2>
                    <h3>Generally speaking, you rely more on your experience than your imagination.</h3>
                    <select class="form-control" id="2">
                        <option selected>Select an option ...</option>
                        <option value="1">1 (Strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly agree)</option>
                    </select>
                </div>
                <div>
                    <h2>Question 3</h2>
                    <h3>You find it easy to stay relaxed and focused even when there is some pressure.</h3>
                    <select class="form-control" id="3">
                        <option selected>Select an option ...</option>
                        <option value="1">1 (Strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly agree)</option>
                    </select>
                </div>
                <div>
                    <h2>Question 4</h2>
                    <h3>You rarely do something just out of sheer curiosity.</h3>
                    <select class="form-control" id="4">
                        <option selected>Select an option ...</option>
                        <option value="1">1 (Strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly agree)</option>
                    </select>
                </div>
                <div>
                    <h2>Question 5 </h2>
                    <h3>People can rarely upset you.</h3>
                    <select class="form-control" id="5">
                        <option selected>Select an option ...</option>
                        <option value="1">1 (Strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly agree)</option>
                    </select>
                </div>
                <div>
                    <h2>Question 6</h2>
                    <h3>It is often difficult for you to relate to other people’s feelings.</h3>
                    <select class="form-control" id="6">
                        <option selected>Select an option ...</option>
                        <option value="1">1 (Strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly agree)</option>
                    </select>
                </div>
                <div>
                    <h2>Question 7</h2>
                    <h3>In a discussion, truth should be more important than people’s sensitivities.</h3>
                    <select class="form-control" id="7">
                        <option selected>Select an option ...</option>
                        <option value="1">1 (Strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly agree)</option>
                    </select>
                </div>
                <div>
                    <h2>Question 8</h2>
                    <h3>You rarely get carried away by fantasies and ideas.</h3>
                    <select class="form-control" id="8">
                        <option selected>Select an option ...</option>
                        <option value="1">1 (Strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly agree)</option>
                    </select>
                </div>
                <div>
                    <h2>Question 9</h2>
                    <h3>You think that everyone’s views should be respected regardless of whether they are supported by
                        facts or not</h3>
                    <select class="form-control" id="9">
                        <option selected>Select an option ...</option>
                        <option value="1">1 (Strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly agree)</option>
                    </select>
                </div>
                <div>
                    <h2>Question 10</h2>
                    <h3>You feel more energetic after spending time with a group of people.</h3>
                    <select class="form-control" id="10">
                        <option selected>Select an option ...</option>
                        <option value="1">1 (Strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly agree)</option>
                    </select>
                </div>
            </div>

        </div>
        <div>
            <button type="button" class="btn btn-info" type="submit" id="surveyBtn" data-toggle="modal">Submit</button>

        </div>

    </div>
    <!-- Button trigger modal -->


    <!-- Modal -->
    <div id="results-modal" class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalCenterTitle">You Are Matched</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h2 id="match-name"></h2>
                    <img id="match-img">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <script>

        $("#surveyBtn").on("click", function (event) {
            event.preventDefault();

            // Form validation
            function validateForm() {
                var isValid = true;
                $(".form-control").each(function () {
                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });

                return isValid;
            }

            // If all required fields are filled
            if (validateForm()) {
                // Create an object for the user"s data
                var userData = {
                    name: $("#name").val(),
                    photo: $("#picture").val(),
                    scores: [
                        $("#1").val(),
                        $("#2").val(),
                        $("#3").val(),
                        $("#4").val(),
                        $("#5").val(),
                        $("#6").val(),
                        $("#7").val(),
                        $("#8").val(),
                        $("#9").val(),
                        $("#10").val()
                    ]
                };
                console.log(userData);
                $.post("/api/friend", userData, function (data) {
                    console.log(data)
                    $("#match-name").text(data[0].name);
                    $("#match-img").attr("src", data[1].photo);
                    $("#results-modal").modal("toggle");

                });

            } else {
                alert("Please fill out all fields before submitting!");
            }
        });
    </script>
    <script src="../routing/htmlRoute.js"></script>
    <script src="../routing/apiRoute.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>

</html>